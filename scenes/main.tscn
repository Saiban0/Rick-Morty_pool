[gd_scene load_steps=12 format=3 uid="uid://cj0vrmwtckgxq"]

[ext_resource type="Script" uid="uid://dvvh451ig8m1l" path="res://scripts/main.gd" id="1_sugp2"]
[ext_resource type="PackedScene" uid="uid://b83nfsoi8bk8s" path="res://scenes/pool_ball.tscn" id="2_jyhfs"]
[ext_resource type="PackedScene" uid="uid://m7usbwj7n40d" path="res://scenes/pool.tscn" id="3_tbgi4"]
[ext_resource type="PackedScene" uid="uid://80w516a6krsm" path="res://scenes/cue.tscn" id="5_tbgi4"]
[ext_resource type="Script" uid="uid://cbmwditbbfy7c" path="res://scripts/power_bar.gd" id="6_tefeu"]
[ext_resource type="PackedScene" uid="uid://v7afn15fn451" path="res://scenes/potted_balls_display.tscn" id="7_o6xl0"]
[ext_resource type="PackedScene" uid="uid://dkecxcu0lb04s" path="res://scenes/game_over.tscn" id="8_85g3d"]
[ext_resource type="Script" uid="uid://d03wme6lgy6ye" path="res://scripts/scoreboard.gd" id="8_tipki"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_o6xl0"]
bg_color = Color(1, 1, 1, 0.45882353)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_tipki"]
bg_color = Color(0.972549, 0.1882353, 0.047058824, 1)

[sub_resource type="LabelSettings" id="LabelSettings_tipki"]
outline_size = 4
shadow_size = 4

[node name="Node" type="Node"]

[node name="GameViewport" type="SubViewportContainer" parent="."]
offset_right = 1500.0
offset_bottom = 750.0
size_flags_horizontal = 3
size_flags_vertical = 0
metadata/_edit_group_ = true

[node name="SubViewport" type="SubViewport" parent="GameViewport"]
transparent_bg = true
handle_input_locally = false
size = Vector2i(1500, 750)
render_target_update_mode = 4

[node name="Main" type="Node" parent="GameViewport/SubViewport"]
script = ExtResource("1_sugp2")
ball_scene = ExtResource("2_jyhfs")

[node name="Table" parent="GameViewport/SubViewport/Main" instance=ExtResource("3_tbgi4")]

[node name="Cue" parent="GameViewport/SubViewport/Main" instance=ExtResource("5_tbgi4")]
z_index = 2

[node name="Power_bar" type="ProgressBar" parent="GameViewport/SubViewport/Main"]
z_index = 1
offset_left = 120.0
offset_top = 88.0
offset_right = 270.0
offset_bottom = 108.0
theme_override_styles/background = SubResource("StyleBoxFlat_o6xl0")
theme_override_styles/fill = SubResource("StyleBoxFlat_tipki")
show_percentage = false
script = ExtResource("6_tefeu")

[node name="GUI" type="CanvasLayer" parent="."]

[node name="Scoreboard" type="PanelContainer" parent="GUI"]
custom_minimum_size = Vector2(15, 15)
offset_left = 10.0
offset_top = 760.0
offset_right = 275.0
offset_bottom = 984.0
metadata/_edit_group_ = true

[node name="MarginContainer" type="MarginContainer" parent="GUI/Scoreboard"]
layout_mode = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="CenterContainer" type="CenterContainer" parent="GUI/Scoreboard/MarginContainer"]
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="GUI/Scoreboard/MarginContainer/CenterContainer"]
layout_mode = 2
script = ExtResource("8_tipki")

[node name="Aplayer1" type="HBoxContainer" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer"]
layout_mode = 2

[node name="Avatar" type="TextureRect" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer/Aplayer1" groups=["avatars"]]
layout_mode = 2
size_flags_horizontal = 0
expand_mode = 3
stretch_mode = 5

[node name="Name" type="Label" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer/Aplayer1" groups=["name_labels"]]
layout_mode = 2
size_flags_horizontal = 2
theme_override_font_sizes/font_size = 19
visible_characters = 15

[node name="Score" type="Label" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer/Aplayer1" groups=["score_labels"]]
layout_mode = 2
size_flags_horizontal = 8
theme_override_font_sizes/font_size = 19

[node name="Aplayer2" type="HBoxContainer" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer"]
layout_mode = 2

[node name="Avatar" type="TextureRect" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer/Aplayer2" groups=["avatars"]]
layout_mode = 2
size_flags_horizontal = 0
expand_mode = 3
stretch_mode = 5

[node name="Name" type="Label" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer/Aplayer2" groups=["name_labels"]]
layout_mode = 2
size_flags_horizontal = 2
theme_override_font_sizes/font_size = 19
visible_characters = 15

[node name="Score" type="Label" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer/Aplayer2" groups=["score_labels"]]
layout_mode = 2
size_flags_horizontal = 8
theme_override_font_sizes/font_size = 19

[node name="Score" type="HBoxContainer" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer"]
layout_mode = 2

[node name="Score" type="Label" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer/Score"]
layout_mode = 2
size_flags_horizontal = 6
theme_override_font_sizes/font_size = 19

[node name="Bplayer1" type="HBoxContainer" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer"]
layout_mode = 2

[node name="Avatar" type="TextureRect" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer/Bplayer1" groups=["avatars"]]
layout_mode = 2
size_flags_horizontal = 0
expand_mode = 3
stretch_mode = 5

[node name="Name" type="Label" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer/Bplayer1" groups=["name_labels"]]
layout_mode = 2
size_flags_horizontal = 2
theme_override_font_sizes/font_size = 19
visible_characters = 15

[node name="Score" type="Label" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer/Bplayer1" groups=["score_labels"]]
layout_mode = 2
size_flags_horizontal = 8
theme_override_font_sizes/font_size = 19

[node name="Bplayer2" type="HBoxContainer" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer"]
layout_mode = 2

[node name="Avatar" type="TextureRect" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer/Bplayer2" groups=["avatars"]]
layout_mode = 2
size_flags_horizontal = 0
expand_mode = 3
stretch_mode = 5

[node name="Name" type="Label" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer/Bplayer2" groups=["name_labels"]]
layout_mode = 2
size_flags_horizontal = 2
theme_override_font_sizes/font_size = 19
visible_characters = 15

[node name="Score" type="Label" parent="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer/Bplayer2" groups=["score_labels"]]
layout_mode = 2
size_flags_horizontal = 8
theme_override_font_sizes/font_size = 19

[node name="Potted_balls_display" parent="GUI" instance=ExtResource("7_o6xl0")]
offset_left = 289.0
offset_top = 760.0
offset_right = 1001.0
offset_bottom = 1024.0
scale = Vector2(0.85, 0.85)

[node name="RulesPanel" type="PanelContainer" parent="GUI"]
offset_left = 908.0
offset_top = 760.0
offset_right = 1246.0
offset_bottom = 984.0

[node name="MarginContainer" type="MarginContainer" parent="GUI/RulesPanel"]
layout_mode = 2
theme_override_constants/margin_left = 4
theme_override_constants/margin_top = 4
theme_override_constants/margin_right = 4
theme_override_constants/margin_bottom = 4

[node name="VBoxContainer" type="VBoxContainer" parent="GUI/RulesPanel/MarginContainer"]
layout_mode = 2

[node name="Title" type="Label" parent="GUI/RulesPanel/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Rules"
label_settings = SubResource("LabelSettings_tipki")

[node name="Text" type="Label" parent="GUI/RulesPanel/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 14
text = "Clear your balls first, then pot the 8-ball of doomâ€”do it early and you lose, Morty!

Pocket yours? Extra turn. Pocket theirs? Congrats, Jerry, they get it.
Finish with the black to win across the multiverse!

Press Left click to shoot dumbass"
autowrap_mode = 2

[node name="Buttons" type="Control" parent="GUI"]
layout_mode = 3
anchors_preset = 0
offset_left = 1264.0
offset_top = 760.0
offset_right = 1480.0
offset_bottom = 984.0

[node name="CenterContainer" type="CenterContainer" parent="GUI/Buttons"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -48.0
offset_right = 48.0
offset_bottom = 40.0
grow_horizontal = 2

[node name="VBoxContainer" type="VBoxContainer" parent="GUI/Buttons/CenterContainer"]
layout_mode = 2

[node name="Quit" type="Button" parent="GUI/Buttons/CenterContainer/VBoxContainer"]
layout_mode = 2
text = "Quit game"

[node name="GameOverPanel" parent="GUI" instance=ExtResource("8_85g3d")]
offset_left = 588.0
offset_top = 352.0
offset_right = 938.0
offset_bottom = 515.0

[connection signal="movement_stopped" from="GameViewport/SubViewport/Main" to="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer" method="_set_label_color"]
[connection signal="ball_dropped" from="GameViewport/SubViewport/Main/Table" to="GUI/Potted_balls_display" method="_on_table_ball_dropped"]
[connection signal="cue_ball_potted" from="GameViewport/SubViewport/Main/Table" to="GameViewport/SubViewport/Main" method="reset_cue_ball"]
[connection signal="game_over" from="GameViewport/SubViewport/Main/Table" to="GUI/GameOverPanel" method="_on_table_game_over"]
[connection signal="update_scoreboard" from="GameViewport/SubViewport/Main/Table" to="GUI/Scoreboard/MarginContainer/CenterContainer/VBoxContainer" method="_update_scoreboard"]
[connection signal="shoot" from="GameViewport/SubViewport/Main/Cue" to="GameViewport/SubViewport/Main" method="_on_cue_shoot"]
